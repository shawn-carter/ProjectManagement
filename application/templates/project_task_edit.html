{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block content %}
    <h1>Edit Task: {{ form.instance.task_name }}</h1>
    <a href="{% url 'project_taskview' project_id=project.id %}" class="btn btn-outline-secondary mb-3">Back to Tasks</a>

    <div class="card-body">
        <form method="post" novalidate>
            {% csrf_token %}
            {% crispy form %}
        </form>
    </div>

{% endblock %}

{% block extraJS %}
<script>
    $(document).ready(function () {
        // Check for elements with the 'is-invalid' class and focus on the first one found
        var firstInvalidField = $('.is-invalid').first();
        if (firstInvalidField.length) {
            firstInvalidField.focus();
        }
    });
</script>
{% endblock %}