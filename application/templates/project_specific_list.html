<!-- application/templates/application/project_specific_list.html -->

{% extends 'base.html' %}

{% block content %}
    <h1>{{ project.project_name }} - {{ verbose_name_plural }}</h1>
    <table class="table table-bordered table-hover">
        <thead>
            <tr>
                <th>ID</th>
                <th>Details</th>
                <th>Created By</th>
                <th>Created At</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for item in items %}
                <tr>
                    <td>{{ item.pk }}</td>
                    <td>{{ item.risk_details|default:item.assumption_details|default:item.dependency_details }}</td>
                    <td>{{ item.created_by }}</td>
                    <td>{{ item.created_datetime }}</td>
                    <td>
                        <!-- Placeholder for potential actions like Edit/Delete -->
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Use model_name_plural to generate the correct 'Add' button -->
    {% if model_name_plural == 'risks' %}
    <a href="{% url 'add_risk' project.pk %}" class="btn btn-primary">Add Risk</a>

    {% elif model_name_plural == 'assumptions' %}
    <a href="{% url 'add_assumption' project.pk %}" class="btn btn-primary">Add Assumption</a>

    {% elif model_name_plural == 'issues' %}
    <a href="{% url 'add_issue' project.pk %}" class="btn btn-primary">Add Issue</a>

    {% elif model_name_plural == 'dependencies' %}
    <a href="{% url 'add_dependency' project.pk %}" class="btn btn-primary">Add Dependency</a>

    {% elif model_name_plural == 'stakeholders' %}
    <a href="{% url 'add_stakeholder' project.pk %}" class="btn btn-primary">Add Stakeholder</a>
    {% endif %}

    <a href="{% url 'project_detail' project.pk %}" class="btn btn-secondary">Back to Project</a>
{% endblock %}
